#:kivy 1.9.1
#:import WipeTransition kivy.uix.screenmanager.WipeTransition
#:import FadeTransition kivy.uix.screenmanager.FadeTransition
#:import DropDown kivy.uix.dropdown

<Label>:
    font_size: 25

<Button>:
    # default texture is grey, this sets it back to none
    background_normal: ''
    background_color: .9,.3,.3, 1

<Spinner>:
    font_size: 18
    spacing: 10

<SpinnerOption>:
    font_size: 18

<Screen>:
    canvas:
        Color:
            rgb: (1, 1, 1)
        Rectangle:
            pos: self.pos
            size: self.size

<HomeScreen>:
    AnchorLayout:
        IconButton:
            source: "./images/logo.png"
            on_release:
                root.manager.transition = FadeTransition()
                root.manager.current = 'Menu'

<MenuScreen>:
    FloatLayout:
        Image:
            source: "./images/logo_small.png"
            size_hint: None, None
            size: 100, 100
            pos_hint: {'center_x' : .5, 'top' : .90}

        Label:
            text: "Home Screen"
            font_size: 35
            color: 0,0,0,1
            size_hint: None, None
            pos_hint: {'center_x' : .5, 'y': .5}

        Button:
            text: 'Record'
            size_hint: None, None
            size: 180, 80
            pos_hint: {'center_x' : .25, 'y': .25}
            on_release:
                root.manager.transition = WipeTransition()
                root.manager.current = self.text

        Button:
            text: 'Pad'
            size_hint: None, None
            size: 180, 80
            pos_hint: {'center_x' : .5, 'y': .25}
            on_release:
                root.manager.transition = WipeTransition()
                root.manager.current = self.text

        Button:
            text: 'Production'
            size_hint: None, None
            size: 180, 80
            pos_hint: {'center_x' : .75, 'y': .25}
            on_release:
                root.manager.transition = WipeTransition()
                root.manager.current = self.text


<ProductionScreen>:
    FloatLayout:
        Image:
            source: "./images/logo_small.png"
            size_hint: None, None
            size: 100, 100
            pos_hint: {'center_x' : .5, 'top' : .90}

        Label:
            text: "Production"
            font_size: 35
            color: 0,0,0,1
            size_hint: None, None
            pos_hint: {'center_x' : .5, 'y': .5}

        Button:
            text: 'New'
            size_hint: None, None
            size: 180, 80
            pos_hint: {'center_x' : .25, 'y': .25}

        Button:
            text: 'Open Last'
            size_hint: None, None
            size: 180, 80
            pos_hint: {'center_x' : .5, 'y': .25}

        Button:
            text: 'Open'
            size_hint: None, None
            size: 180, 80
            pos_hint: {'center_x' : .75, 'y': .25}
            center_y: 110

    FloatLayout:
        size_hint_y: .2
        padding: 10
        Button:
            text: 'Home'
            on_release:
                root.manager.transition = WipeTransition()
                root.manager.current = 'Menu'
            size_hint: None, None
            size: 100, 35
            pos_hint: {'x' : .01, 'y': .1}
            font_size: 18

<AudioButton>:
    size_hint: None, None
    text_size: self.size
    font_size: '14sp'
    valign: 'middle'
    halign: 'center'
    size: 100, 100

<PadScreen>:
    style: style
    volume: volume
    BoxLayout:
        orientation: 'vertical'
        FloatLayout:
            size_hint_y: .3
            Label:
                text: "Pad"
                font_size: 25
                color: 0,0,0,1
                size_hint: None, None
                pos_hint: {'center_x' : .5, 'y': .2}

            Spinner:
                id: style
                text: 'Choose style'
                size_hint: None, None
                size: 250, 40
                font_size: 20
                pos_hint: {'center_x' : .5, 'y': .1}
                on_text: root.load_sounds()

            Label:
                text: 'Volume :'
                font_size: 18
                color: 0,0,0,1
                size_hint: None, None
                pos_hint: {'x' : 0.01, 'top': .60}

            Label:
                text: '75%'
                id: volume
                font_size: 18
                color: 0,0,0,1
                size_hint: None, None
                pos_hint: {'x' : 0.085, 'top': .60}

        BoxLayout:
            padding: 10
            Slider:
                min: 0.0
                max: 1.0
                value: .75
                on_value: root.set_volume(self.value)
                orientation: "vertical"
                size_hint_x: .2

            StackLayout:
                center_x: root.center_x
                spacing: 5
                id: sl

        FloatLayout:
            size_hint_y: .2
            padding: 10
            Button:
                text: 'Stop'
                on_release: root.release_audio()
                size_hint: None, None
                size: 160, 50
                pos_hint: {'center_x' : .5, 'top': 1}

            Button:
                text: 'Home'
                on_release:
                    root.release_audio()
                    root.manager.transition = WipeTransition()
                    root.manager.current = 'Menu'
                size_hint: None, None
                size: 100, 35
                pos_hint: {'x' : .01, 'y': .1}
                font_size: 18

<RecordScreen>
    record_button: record_button
    FloatLayout:
        Image:
            source: "./images/logo_small.png"
            size_hint: None, None
            size: 100, 100
            pos_hint: {'center_x' : .5, 'top' : .90}

        Label:
            text: "Record"
            font_size: 35
            color: 0,0,0,1
            size_hint: None, None
            pos_hint: {'center_x' : .5, 'y': .5}

        ToggleButton:
            id: record_button
            text: root.button_text
            size_hint: None, None
            size: 180, 80
            pos_hint: {'center_x' : .5, 'y': .25}
            on_release:root.record_audio()

    FloatLayout:
        size_hint_y: .2
        padding: 10
        Button:
            text: 'Home'
            on_release:
                root.manager.transition = WipeTransition()
                root.manager.current = 'Menu'
            size_hint: None, None
            size: 100, 35
            pos_hint: {'x' : .01, 'y': .1}
            font_size: 18